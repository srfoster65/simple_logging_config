{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":""},{"location":"#installation","title":"Installation","text":"<p>With Pip:</p> <pre><code>pip install simple_logging_config\n</code></pre>"},{"location":"#usage","title":"Usage","text":"<p>The simple_logging_config package provides a simplified logging configuration.</p> <p>To use with the default configuration, only 2 lines of code are required.</p> <pre><code>from simple_logging_config import configure_logging\n\nconfigure_logging()\n</code></pre> <p>Or</p> <pre><code>from simple_logging_config import SimpleLoggingConfig\n\nSimpleLoggingConfig()\n</code></pre> <p>This will enable info level logging to the console and debug level logging to a file.</p> <p>Information logged to the console is just the log message with no additional detail. Information logged to file includes the timestamp, log_level, module and message</p> <p>For a slightly more complex usecase, using a few additional lines of code, configure_logging is configurable using command line parameters.</p> <pre><code># myscript.py\n\nfrom argparse import ArgumentParser\nfrom simple_logging_config import configure_logging, add_logging_arguments\n\nparser = ArgumentParser(description=\"Test Program\")\nadd_logging_arguments(parser)\nargs = parser.parse_args()\n\nconfigure_logging(**vars(args))\n</code></pre> <p>Your script will now accept additional CLI paramaters to configure logging at runtime as shown below.</p> <pre><code>usage: myscript.py [-h] [-v | --slc-level LEVELS] [--slc-modules [MODULES ...]] [--slc-log-file-path LOG_FILE_PATH]\n               [--slc-backup-count BACKUP_COUNT] [--slc-config {dual,dual_rotating,dual_detailed,console,file,rotating_file}]      \n\nTest Program\n\noptions:\n  -h, --help            show this help message and exit\n  -v, --verbose         The level of logging verbosity for the default handler. Use multiple times (up to -vvv) for increased      \n                        verbosity.\n  --slc-level LEVELS, --slc-levels LEVELS\n                        The log level(s) to be applied to attached handlers. This value can be a single integer or a string        \n                        representing a defined log level. Or it can be a string representing a dictionary where key/value pairs    \n                        are handler names and the log level to be associated with that handler\n  --slc-modules [MODULES ...]\n                        The names of the modules to be logged. If omitted all modules are logged.\n  --slc-log-file-path LOG_FILE_PATH\n                        The path the log file will be saved to. If this is a folder, the log file will be saved to this folder     \n                        with the file name derived from the name of the calling script. Otherwise, assume this is a full path to   \n                        a named log file.\n  --slc-backup-count BACKUP_COUNT\n                        An integer specifying The number of backup log files to retain.\n  --slc-config {dual,dual_rotating,dual_detailed,console,file,rotating_file}\n                        The name of the logging config to be used.\n\n</code></pre>"},{"location":"argparse/","title":"ArgParse Support","text":"<p>If you write CLI programs using ArgumentParser, support is included to simplify configuring logging in a standard fashion.</p>"},{"location":"argparse/#add_logging_argumentsparser","title":"add_logging_arguments(parser)","text":"<p>Calling add_logging_arguments(parser) with a parser object as a parameter will add the following paramters to your script.</p> <ul> <li>verbose</li> <li>slc-levels</li> <li>slc-modules</li> <li>slc-log-file-path</li> <li>slc-backup-count</li> <li>slc-config</li> </ul> <p>Having called parser.parse_args(), the return value can be passed into configure_logging() as follows:</p> <pre><code>configure_logging(**vars(args))\n</code></pre> <p>The following example shows how to add logging support to your CLI program.</p> <pre><code># test.py\n\nfrom argparse import ArgumentParser\nfrom simple_logging_config import add_logging_arguments\nfrom simple_logging_config import configure_logging\n\nparser = ArgumentParser(description='Example Program')\nadd_logging_arguments(parser)\n\nargs = parser.parse_args()\nconfigure_logging(**vars(args))\n\n# Call your code here\n</code></pre> <p>Running the above program with the -h param will result in the following output</p> <pre><code>usage: test.py [-h] [-v | --slc-levels [SLC_LEVELS ...]] [--slc-modules [SLC_MODULES ...]] [--slc-log-file-path SLC_LOG_FILE_PATH] [--slc-backup-count SLC_BACKUP_COUNT]\n               [--slc-config {dual,dual_rotating,dual_detailed,console,file,rotating_file}]\n\nExample Program\n\noptions:\n  -h, --help            show this help message and exit\n  -v, --verbose         The level of logging verbosity for the default handler. Use multiple times (up to -vvv) for increased      \n                        verbosity.\n  --slc-level LEVELS, --slc-levels LEVELS\n                        The log level(s) to be applied to attached handlers. This value can be a single integer or a string        \n                        representing a defined log level. Or it can be a string representing a dictionary where key/value pairs    \n                        are handler names and the log level to be associated with that handler\n  --slc-modules [MODULES ...]\n                        The names of the modules to be logged. If omitted all modules are logged.\n  --slc-log-file-path LOG_FILE_PATH\n                        The path the log file will be saved to. If this is a folder, the log file will be saved to this folder     \n                        with the file name derived from the name of the calling script. Otherwise, assume this is a full path to   \n                        a named log file.\n  --slc-backup-count BACKUP_COUNT\n                        An integer specifying The number of backup log files to retain.\n  --slc-config {dual,dual_rotating,dual_detailed,console,file,rotating_file}\n                        The name of the logging config to be used.\n</code></pre>"},{"location":"custom_levels/","title":"Custom Logging Levels","text":""},{"location":"custom_levels/#adding-custom-logging-levels","title":"Adding Custom Logging Levels","text":"<p>Several helper functions are provided to support adding additional custom log levels.</p> <ul> <li>Only CLI programs should configure the logger.</li> <li>No library can assume additional loggers have been defined</li> </ul> <p>With this in mind, any library module that wishes to use an additional logging level should register the additional level itself. It should not assume that logging has been configured as it may have been called by directly by a script that has not used configure_logging().</p>"},{"location":"custom_levels/#add-print-logging-level","title":"Add Print Logging Level","text":"<p>The PRINT log level sits between \"INFO\" and \"WARNING\" and is defined as level 25. It is intended for information that should be output always, but is not at the WARNING severity.</p> <p>Add the following to any module that requires access to the \"PRINT\" logging level</p> <pre><code>from simple_logging_config import add_print_logging_level\n\nadd_print_logging_level()\n\nlogging.getLogger(__name__).print('Hello World')\n</code></pre> <p>Note: The calling script would need to set the logging level of the appropriate handler to ensure the print messages are recorded, although this would not normally be required for this level of logging.</p>"},{"location":"custom_levels/#add-trace-logging-level","title":"Add Trace Logging Level","text":"<p>The TRACE log level sits between \"DEBUG\" and \"NOTSET\" and is defined as level 5. It is intended for very detailed information that would make DEBUG logging too verbose. It would almost always never be set unless debugging a specific problem.</p> <p>Add the following to any module that requires access to the \"TRACE\" logging level</p> <pre><code>from simple_logging_config import add_trace_logging_level\n\nadd_trace_logging_level()\n\nlogging.getLogger(__name__).trace('Trace Message')\n</code></pre> <p>Note: The calling script would need to set the logging level of the appropriate handler to ensure the trace messages are recorded.</p>"},{"location":"custom_levels/#add-a-custom-logging-level","title":"Add a Custom Logging Level","text":"<p>This allows adding a custom logging level to any module.</p> <pre><code>from simple_logging_config import add_logging_level\n\nadd_logging_level('custom', 2)\n\nlogging.getLogger(__name__).custom('Custom Message')\n</code></pre>"},{"location":"design/","title":"Design","text":""},{"location":"design/#implementation","title":"Implementation","text":"<p>simple_logging_config creates logging handlers at the root level. This means that these handlers will be available to all modules unless specifically overridden.</p>"},{"location":"design/#handlers","title":"Handlers","text":"<p>3 types of handlers are defined</p> <ul> <li>Console</li> <li>File</li> <li>Rotating File</li> </ul>"},{"location":"design/#formatters","title":"Formatters","text":"<p>2 message output formats are defined</p> <ul> <li>Brief</li> <li>Detailed</li> </ul> <p>Note: It is possible to customise the output format for a specific handler using environment variables.</p>"},{"location":"design/#pre-defined-configs","title":"Pre-defined Configs","text":"<p>Combinations of these options are made available via pre-defined configurations</p> <ol> <li>dual<ul> <li>console: brief</li> <li>file: detailed</li> </ul> </li> <li>dual_detailed<ul> <li>console: detailed</li> <li>file: detailed</li> </ul> </li> <li>dual_rotating<ul> <li>console: brief</li> <li>rotating_file: detailed</li> </ul> </li> <li>console<ul> <li>console: detailed</li> </ul> </li> <li>file<ul> <li>file: detailed</li> </ul> </li> <li>rotating_file<ul> <li>rotating_file: detailed</li> </ul> </li> </ol>"},{"location":"env_variables/","title":"General Information","text":"<p>All environment variables have the prefix SLC_ to minimise the risk of a namespace clash.</p> <p>Environment variables must be set before logging is initialised.</p>"},{"location":"env_variables/#priority","title":"Priority","text":"<p>When logging is initialised, the following precedence applies:</p> <ol> <li>Environment Variable</li> <li>Argument value</li> <li>Implementation default</li> </ol>"},{"location":"env_variables/#supported-environment-variables","title":"Supported Environment Variables","text":""},{"location":"env_variables/#slc_config","title":"SLC_CONFIG","text":"<p>Define the default configuration to be used when initialising logging.</p> <p>The value should be a string that represents a valid logging configuration.</p>"},{"location":"env_variables/#slc_verbose","title":"SLC_VERBOSE","text":"<p>Define the verbosity level to be used.</p> <p>The value should be an integer in the range of 0 to 3.</p>"},{"location":"env_variables/#slc_levels","title":"SLC_LEVELS","text":"<p>Define the default logging levels to be used for each handler.</p> <p>The value should be a string or a string representing a python dictionary. See here for more information.</p>"},{"location":"env_variables/#slc_modules","title":"SLC_MODULES","text":"<p>Define the python modules that logging should be enabled for. Only defined modules will emit logging messages. Log levels still apply to the associated handlers.</p> <p>The value should be a string representing a python list. See here for more information.</p>"},{"location":"env_variables/#slc_log_file_path","title":"SLC_LOG_FILE_PATH","text":"<p>Define the folder or path and file name that log files should be written to.</p> <p>The value should be string.</p> <p>Note: This has no effect if no file handlers are defined.</p>"},{"location":"env_variables/#slc_backup_count","title":"SLC_BACKUP_COUNT","text":"<p>Define the number of backup files to maintain if using a rotating file handler.</p> <p>Note: This has no effect if no rotating file handlers are defined.</p>"},{"location":"env_variables/#slc_handler_name_format","title":"SLC_{handler_name}_FORMAT","text":"<p>Define a custom logging message format for a specific handler.</p> <p>The value should be a string that python logging can interpret.</p> <p>Note: Use with caution: This string is not validated. If defined incorrectly, this could cause logging to raise an exception.</p>"},{"location":"license/","title":"License","text":"<pre><code>MIT License\n\nCopyright (c) 2023 Stephen Foster\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n</code></pre>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#installation","title":"Installation","text":"<p>With Pip:</p> <pre><code>pip install simple_logging_config\n</code></pre>"},{"location":"usage/#recommended-usage","title":"Recommended Usage","text":"<p>Logging should only be configured once for any script/program execution. With this in mind, simple_logging_config is intended to be initialised when CLI scripts are executed. To facilitate this, helper methods are also included to configure ArgumentParser to provide a default set of ArgumentParser options to configure logging.</p> <p>There are two ways to configure logging.</p> <ol> <li>ArgumentParser Options - CLI</li> <li>Direct - API</li> </ol> <p>Any environment variables that are set will take precedence over arguments provided via the CLI or API.</p>"},{"location":"usage/#cli-usage","title":"CLI Usage","text":"<p>The following example shows how to add support to a CLI script. This enables logging in the script, along with the ability to adjust logging behaviour via command line parameters. Additaionally, any SLC_* environment variables that are defined will be used when logging is initialised. See here for more information.</p> <pre><code># myscript.py\n\nfrom argparse import ArgumentParser\nfrom simple_logging_config import configure_logging, add_logging_arguments\n\nparser = ArgumentParser()\nadd_logging_arguments(parser)\nargs = parser.parse_args()\n\nconfigure_logging(**vars(args))\n\n# your code here\n</code></pre> <p>e.g.</p> <p>Running myscript.py with the following options will enable debug logging to console.</p> <pre><code>python myscript.py -vv\n</code></pre> <p>See Argparse Support for details of the parameters available.</p> <p>Note: Any script specific arguments can be safely passed to configure_logging, and these will simply be ignored. The only requirement being they do not clash with any simple_logging_config argument names.</p>"},{"location":"usage/#api-usage","title":"API Usage","text":"<p>The following example shows how to configure logging via the API to use the dual_rotating configuration. Additaionally, any SLC_* environment variables that are defined will be used when logging is initialised. See here for more information.</p> <pre><code>from simple_logging_config import configure_logging\n\nconfigure_logging(config=\"dual_rotating\")\n\n# your code here\n</code></pre>"},{"location":"api/examples/","title":"API Example Usage","text":""},{"location":"api/examples/#log-debug-messages-to-the-console","title":"Log debug messages to the console","text":"<p>Using the verbose option</p> <pre><code>configure_logging(verbose=2)\n</code></pre> <p>Or using a named log level</p> <pre><code>configure_logging(levels='debug')\n</code></pre> <p>or using a numeric value</p> <pre><code>configure_logging(levels=10)\n</code></pre>"},{"location":"api/examples/#log-debug-messages-to-the-console-and-trace-messages-to-file","title":"Log debug messages to the console and trace messages to file","text":"<pre><code>configure_logging(levels ={\"console\": 'debug', \"file\": 'trace'})\n</code></pre>"},{"location":"api/examples/#leave-console-log-level-unchanged-and-log-trace-messages-to-file","title":"Leave console log level unchanged and log trace messages to file","text":"<pre><code>configure_logging({\"file\": 'trace'})\n</code></pre>"},{"location":"api/examples/#only-log-messages-for-the-package-mypackage","title":"Only Log messages for the package 'MyPackage'","text":"<pre><code>configure_logging(modules=['MyPackage'])\n</code></pre>"},{"location":"api/examples/#log-debug-messages-to-the-console-only-for-the-package-mypackage","title":"Log debug messages to the console only for the package 'MyPackage'","text":"<pre><code>configure_logging(levels='debug', modules=['MyPackage'])\n</code></pre>"},{"location":"api/examples/#save-the-log-to-a-file-named-my_loglog-in-the-current-working-directory","title":"Save the log to a file named my_log.log in the current working directory","text":"<pre><code>configure_logging(log_file_path='my_log')\n</code></pre>"},{"location":"api/examples/#keep-3-backup-copies-of-the-log-file","title":"Keep 3 backup copies of the log file","text":"<pre><code>configure_logging(config=\"dual_rotating\", backup_count=3)\n</code></pre>"},{"location":"api/examples/#log-messages-only-to-file","title":"Log messages only to file","text":"<pre><code>configure_logging(config='file')\n</code></pre>"},{"location":"api/examples/#a-more-complex-use-case","title":"A more complex use case","text":"<p>Any combination of parameters can be combined to achieve the desired logging configuration.</p> <ul> <li>Log debug messages to the console.</li> <li>Only Log messages for the package 'MyPackage'.</li> <li>Save all logs in a folder named logs (folder must already exist)</li> <li>Keep 10 backup copies of the log file.</li> <li>Use the config 'dual_rotating'</li> </ul> <pre><code>configure_logging(levels='debug', modules=['MyPackage'], log_file_path='logs', backup_count=10, config='dual_rotating)\n</code></pre>"},{"location":"api/reference/","title":"Reference","text":""},{"location":"api/reference/#configure_logging","title":"configure_logging","text":"<pre><code>configure_logging(config=None, verbose=None, levels=None, modules=None, log_file_path=None, backup_count=None, **kwargs) -&gt; SimpleLoggingConfig\n</code></pre> <p>This is the primary API used to configure logging for a script/program. Returns a SimpleLoggingConfig object</p> <p>configure_logging() takes 6 optional parameters</p> <ul> <li>verbose: An integter representing the verbosity level.</li> <li>levels: The log level(s) to use.</li> <li>modules: A list of modules that logging should be enabled for.</li> <li>log_file_path: The location where a log file should be created (if applicable).</li> <li>backup_count: The number of backup log files to keep (if applicable).</li> <li>config: The name of the logging configuration to use.</li> </ul> <p>Additionally, behaviour can also be modified by the use of environment variables.</p> <p>Note: Names use \"_\" separator in the function signature as opposed to \"-\" in command line parameters. Note: Some behaviours can only be updated by the use of environemnt variables.</p> <p>See API Examples for example use cases.</p>"},{"location":"api/reference/#handler-logging-levels","title":"Handler Logging Levels","text":"<p>The options verbose and levels are mutually exclusive. Both can be used to adjust the logging levels. If levels is defined then this will be used in preference to verbose.</p>"},{"location":"api/reference/#verbose","title":"verbose","text":"<p>Verbose is an integer used to change the logging level of the default handler:</p> <ul> <li>0: unchanged</li> <li>1: info</li> <li>2: debug</li> <li>3: trace</li> </ul>"},{"location":"api/reference/#verbose-defaults","title":"Verbose Defaults","text":"<p>If no parameter is provided then the environment variable \"SLC_VERBOSE\" will be used. If no environment variable is defined then the logging levels are unchanged.</p>"},{"location":"api/reference/#levels","title":"levels","text":"<p>levels sets the log level for specific handlers. This can either a single value or a dictionary where the key is the name of the handler and the value the level to apply to that handler. If a single value is provided, this is applied to the default handler. The level value can be an integer or string representing a named level.</p> <p>e.g.</p> <ul> <li>levels=20</li> <li>levels=\"info\"</li> <li>levels={\"console\": \"debug\", \"file\": \"debug\"}</li> </ul>"},{"location":"api/reference/#handler-logging-level-defaults","title":"Handler Logging Level Defaults","text":"<p>If no parameter is provided then the environment variable \"SLC_LEVELS\" will be used. If no environment variable is defined then the logging levels are unchanged.</p>"},{"location":"api/reference/#modules","title":"Modules","text":"<p>modules is a list of modules names that logging should be enabled for. No other modules will emit any log messages. If this value is unset then logging will be enabled for all modules. Default behaviour is to enable logging for all modules.</p>"},{"location":"api/reference/#module-defaults","title":"Module Defaults","text":"<p>If no parameter is provided then the environment variable \"SLC_MODULES\" will be used. If no environemnt variable is provided, logging shall be enabled for all modules</p>"},{"location":"api/reference/#log-file-path","title":"Log File Path","text":"<p>log_file_path is used to set the path (or filename) to use when logging to file. If file logging is not supported by the selected config this parameter is ignored. If log_file_path is an existing folder, the log is saved to this folder, using the name of the calling script, with a \".log\" suffix. Else it is assumed that log_file_path specifies a filename that should be used to save the log to in the current working directory.</p>"},{"location":"api/reference/#log-file-path-defaults","title":"Log File Path Defaults","text":"<p>If no paramter is provided then the environment variable \"SLC_LOG_FILE_PATH\" will be used. If no environment variable is defined then the log file will be saved to the current working directory with the name of the calling script and a .log file extension.</p> <p>The path can be selected when initialising SimpleLoggingConfig for the first time. Once set it cannot be changed.</p> <p>This parameter has no effect if used with a config that does not support logging to file.</p>"},{"location":"api/reference/#backup-count","title":"Backup Count","text":"<p>backup_count is the number of backup copies of log files to retain.</p>"},{"location":"api/reference/#backup-count-defaults","title":"Backup Count Defaults","text":"<p>If no paramter is provided then the environment variable \"SLC_BACKUP_COUNT\" will be used. If no environment variable is defined this default to 5.</p> <p>This parameter has no effect if used with a config that does not support rotating file handlers.</p>"},{"location":"api/reference/#config","title":"Config","text":"<p>The name of the config to use for logging.</p> <p>The following are supported configs and their associated handlers and formats used for each handler:</p> <ul> <li>dual:<ul> <li>console handler - brief : INFO</li> <li>file handler - detailed : DEBUG</li> </ul> </li> <li>dual_detailed:<ul> <li>console handler - detailed : INFO</li> <li>file handler - detailed : DEBUG</li> </ul> </li> <li>dual_rotating:<ul> <li>console handler - brief : INFO</li> <li>rotating file handler - detailed : DEBUG</li> </ul> </li> <li>console:<ul> <li>console handler - detailed : DEBUG</li> </ul> </li> <li>file:<ul> <li>file handler - detailed : DEBUG</li> </ul> </li> <li>rotating_file:<ul> <li>rotating file handler - detailed : DEBUG</li> </ul> </li> </ul>"},{"location":"api/reference/#config-defaults","title":"Config Defaults","text":"<p>If no paramter is provided then the environment variable \"SLC_CONFIG\" will be used. If no environment variable is defined then the config named \"dual\" will be used.</p>"},{"location":"api/reference/#formatters","title":"Formatters","text":"<p>There are 2 formatters defined for the various configs.</p> <ul> <li>brief: Logs only the message.</li> <li>verbose: Logs timestamp, log_level, module and the message.</li> </ul> <p>Formatters can be modified by the use of environment variables. If a custom formatter is required, the environemnt variable must be set before logging is initialised.</p> <p>Create an environment variable with the name: SLC_[HANDLER_NAME]_FORMAT, where HANDLER_NAME is the name of a defined handler, in uppercase. e.g. CONSOLE, FILE or ROTATING_FILE</p> <p>e.g. To display the log level along with the message for the console logging handler.</p> <pre><code>set SLC_CONSOLE_FORMAT=%(levelname)s %(message)s\n</code></pre> <p>Note: Setting this value incorrectly may cause logging to raise an exception.</p>"},{"location":"api/reference/#simpleloggingconfig","title":"SimpleLoggingConfig","text":""},{"location":"api/reference/#initialisation","title":"Initialisation","text":"<pre><code>SimpleLoggingConfig(config=None, verbose=None, levels=None, modules=None, log_file_path=None, backup_count=None, **kwargs)\n</code></pre> <p>The class used to implement logging configuration</p> <p>An instance of SimpleLoggingConfig is returned by configure_logging(), or it can be initialised directly.</p>"},{"location":"api/reference/#methods","title":"Methods","text":""},{"location":"api/reference/#set-levels","title":"Set Levels","text":"<p>Used to adjust logging levels post initialisation.</p> <pre><code>set_levels(levels)\n</code></pre> <p>Where level is a single value or a dictionary. If a single value is provided, this is applied to the default handler. If a dictionary is provided, the key represents the name of the handler and the value the log level to apply to that handler. The level value can be an integer or string representing a named level.</p>"},{"location":"api/reference/#rotate","title":"Rotate","text":"<p>Call doRollover on any handlers that support log rotation</p> <pre><code>rotate()\n</code></pre>"},{"location":"api/reference/#reset","title":"Reset","text":"<p>Tear down SimpleLoggingConfig. Used for testing only</p> <pre><code>reset()\n</code></pre>"}]}